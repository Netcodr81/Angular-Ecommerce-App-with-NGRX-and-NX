<div
  class="bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col transition-shadow hover:shadow-md product">
  <a class="product__link block">
    <img (mousemove)="onImageChange($event)" (touchmove)="onImageChange($event)" (touchout)="onImageMouseOut($event)"
      (mouseout)="onImageMouseOut($event)" [src]="currentImage" [alt]="product.title" #productImageContainer
      [routerLink]="['/products', product.id]" class="w-full h-56 lg:h-64 object-contain bg-gray-50 product__img" />
    <app-product-slider-dots [len]="product.images.length" [activeItem]="currentImageIndex"
      (changeItem)="onChangeImage($event)">
    </app-product-slider-dots>
  </a>
  <div class="p-4 flex-1 flex flex-col product__text">
    <h4 class="text-lg font-semibold text-gray-900 mb-2 product__title">
      <a [routerLink]="['/products', product.id]" class="hover:text-blue-600 transition-colors">{{product.title}}</a>
    </h4>
    <h5 class="text-xl font-bold text-green-600 mb-3 product__price">${{product.price | priceFormatter}}</h5>
    <p class="text-gray-600 text-sm mb-4 flex-1 product__description">{{product.description}}</p>
    <button (click)="onAddProductToCart()"
      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors product__add-to-cart">
      Add to cart
    </button>
  </div>
</div>